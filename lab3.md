# Создание системных диаграмм последовательностей

## Прецедент "Войти в игру"

Рисунок 1 - Диаграмма последовательностей для прецедента "Войти в игру"

![Рисунок 1 - Диаграмма последовательностей для прецедента "Войти в игру"](/images/lab3_pr1.png)

|**Действие**|**Запустить систему игры**|
| :-: | :- |
|Ссылки|Прецедент: Войти в игру|
|Предусловия|Система не запущена|
|Постусловия|Система запущена|
#

|**Действие**|**Запросить имя, вывести текстовое поле и неактивную кнопку «Сохранить»**|
| :-: | :- |
|Ссылки|Прецедент: Войти в игру|
|Предусловия|<p>1. Система запущена</p><p>2. Предыдущая игра завершена</p><p>3. Новая игра не начата</p>|
|Постусловия|Игроку предоставлен интерфейс для ввода данных|
#

|**Действие**|**Ввести имя**|
| :-: | :- |
|Ссылки|Прецедент: Войти в игру|
|Предусловия|Игрок еще не вводил свое имя в текущей игре|
|Постусловия|Игрок получает возможность подтвердить введенное имя|
#

|**Действие**|**Сделать кнопку «Сохранить» активной**|
| :-: | :- |
|Ссылки|Прецедент: Войти в игру|
|Предусловия|Игрок ввел свое имя|
|Постусловия|Игроку предоставлена возможность подтвердить ввод имени|
#

|**Действие**|**Нажать кнопку «Сохранить»**|
| :-: | :- |
|Ссылки|Прецедент: Войти в игру|
|Предусловия|Кнопка «Сохранить» активна|
|Постусловия|Введенное имя подтверждено игроком|
#

|**Действие**|**Сохранить данные игрока**|
| :-: | :- |
|Ссылки|Прецедент: Войти в игру|
|Предусловия|Введенное имя подтверждено игроком|
|Постусловия|Игроку присвоено введенное имя|
#

|**Действие**|**Завершить процесс ввода имен игроков**|
| :-: | :- |
|Ссылки|Прецедент: Войти в игру|
|Предусловия|Обоим игрокам присвоены имена|
|Постусловия|<p>1. Оба игрока вошли в игру</p><p>2. Игра переходит к прецеденту "Расставить корабли"</p>|

## Прецедент "Расставить корабли"

Рисунок 2 - Диаграмма последовательностей для прецедента "Расставить корабли"

![Рисунок 2 - Диаграмма последовательностей для прецедента "Расставить корабли"](/images/lab3_pr2.png)

|**Действие**|**Перейти к расстановке кораблей**|
| :-: | :- |
|Ссылки|Прецедент: Расставить корабли|
|Предусловия|<p>1. Оба игрока вошли в игру</p><p>2. Игра не начата</p>|
|Постусловия|Система предоставляет игроку интерфейс для расстановки кораблей|
#

|**Действие**|**Показать поле, набор кораблей и неактивную кнопку «Сохранить»**|
| :-: | :- |
|Ссылки|Прецедент: Расставить корабли|
|Предусловия|<p>1. Игра не начата</p><p>2. Игрок перешел к расстановке кораблей</p>|
|Постусловия|Игроку предоставлен интерфейс для расстановки кораблей на игровом поле|
#

|**Действие**|**Расставить корабли по полю**|
| :-: | :- |
|Ссылки|Прецеденты: Расставить корабли|
|Предусловия|Система отобразила поле игрока и набор кораблей|
|Постусловия|Игрок получает возможность подтвердить расстановку кораблей|
#

|**Действие**|**Сделать кнопку «Сохранить» активной**|
| :-: | :- |
|Ссылки|Прецеденты: Расставить корабли|
|Предусловия|Игрок расставил корабли|
|Постусловия|Игроку предоставлена возможность подтвердить расстановку кораблей|
#

|**Действие**|**Нажать кнопку «Сохранить»**|
| :-: | :- |
|Ссылки|Прецеденты: Расставить корабли|
|Предусловия|Кнопка «Сохранить» активна|
|Постусловия|Расстановка кораблей подтверждена игроком|
#

|**Действие**|**Сохранить расположение кораблей игрока**|
| :-: | :- |
|Ссылки|Прецеденты: Расставить корабли|
|Предусловия|Расстановка кораблей подтверждена игроком|
|Постусловия|Расстановка кораблей сохранена системой|
#

|**Действие**|**Завершить процесс расстановки кораблей**|
| :-: | :- |
|Ссылки|Прецеденты: Расставить корабли|
|Предусловия|Расстановки кораблей обоих игроков сохранены|
|Постусловия|<p>1. Игровые поля обоих игроков сформированы</p><p>2. Игра переходит к прецеденту "Выбрать первого игрока"</p>|

## Прецедент "Выбрать первого игрока"

Рисунок 3 - Диаграмма последовательностей для прецедента "Выбрать первого игрока"

![Рисунок 3 - Диаграмма последовательностей для прецедента "Выбрать первого игрока"](/images/lab3_pr3.png)

|**Действие**|**Перейти к выбору первого игрока**|
| :-: | :- |
|Ссылки|Прецедент: Выбрать первого игрока|
|Предусловия|<p>1. Игра не начата</p><p>2. Оба игрока вошли в игру</p><p>3. Оба игрока сформировали свои игровые поля, расставив корабли</p>|
|Постусловия|Система предоставляет игроку интерфейс для выбора игрока, который будет ходить первым|
#

|**Действие**|**Отобразить имена обоих игроков**|
| :-: | :- |
|Ссылки|Прецедент: Выбрать первого игрока|
|Предусловия|<p>1. Игра не начата</p><p>2. Игрок перешел к выбору первого игрока</p>|
|Постусловия|Игроку предоставлен интерфейс для выбора игрока, который будет ходить первым|
#

|**Действие**|**Выбрать игрока, который будет ходить первым**|
| :-: | :- |
|Ссылки|Прецедент: Выбрать первого игрока|
|Предусловия|Система вывела имена игроков|
|Постусловия|Выбран игрок, который будет ходить первым|
#

|**Действие**|**Сохранить выбор игрока**|
| :-: | :- |
|Ссылки|Прецедент: Выбрать первого игрока|
|Предусловия|Выбран игрок, который будет ходить первым|
|Постусловия|<p>1. Игрок, который будет ходить первым, сохранен для первого хода</p><p>2. Игра переходит к прецеденту "Сделать ход"</p>|

## Прецедент "Сделать ход"

Рисунок 4 - Диаграмма последовательностей для прецедента "Сделать ход"

![Рисунок 4 - Диаграмма последовательностей для прецедента "Сделать ход"](/images/lab3_pr4.png)

|**Действие**|**Начать игру**|
| :-: | :- |
|Ссылки|Прецедент: Сделать ход|
|Предусловия|<p>1. Игра не начата</p><p>2. Оба игрока вошли в игру</p><p>3. Оба игрока сформировали свои игровые поля, расставив корабли</p><p>4. Выбран игрок, который будет ходить первым</p>|
|Постусловия|Игра начата|
#

|**Действие**|**Нажать на кнопку «Далее»**|
| :-: | :- |
|Ссылки|Прецедент: Сделать ход|
|Предусловия|Предыдущий игрок сделал ход и нажал кнопку «Передать ход»|
|Постусловия|Игроку предоставлен интерфейс для следующего хода|
#

|**Действие**|**В поле игрока отобразить метки, **появившиеся при предыдущем ходе**|
| :-: | :- |
|Ссылки|Прецедент: Сделать ход|
|Предусловия|Игрок сделал ход и нажал кнопку «Передать ход»|
|Постусловия|Игровые поля готовы для показа игроку|
#

|**Действие**|**Предоставить право хода игроку, отобразить его поле и поле соперника**|
| :-: | :- |
|Ссылки|Прецедент: Сделать ход|
|Предусловия|<p>(Если ход не первый в игре и не повторный) Поле игрока содержит все метки с предыдущего хода</p><p>(Если ход первый в игре) Игра начата</p>|
|Постусловия|Игроку предоставляется право хода|
#

|**Действие**|**Нажать на клетку на поле соперника**|
| :-: | :- |
|Ссылки|Прецедент: Сделать ход|
|Предусловия|<p>1. Игроку передан ход</p><p>2. Показаны игровые поля</p>|
|Постусловия|Система проверяет выбранную клетку|
#

|**Действие**|**Проверить наличие корабля в клетке**|
| :-: | :- |
|Ссылки|Прецедент: Сделать ход|
|Предусловия|Игрок сделал ход|
|Постусловия|<p>Варианты:</p><p>- Клетка, куда пришелся выстрел, не занята ни одним кораблем</p><p>- В клетке, куда пришелся выстрел, находится многопалубный корабль</p><p>- Выстрел пришелся в клетку с однотрубным кораблем или в последнюю непоражённую клетку многопалубного корабля</p>|
#

|**Действие**|**Поставить в клетке на поле соперника точку, над полем написать "Мимо!"**|
| :-: | :- |
|Ссылки|Прецедент: Сделать ход|
|Предусловия|<p>Клетка, куда пришелся выстрел, не занята ни одним кораблем</p><p></p>|
|Постусловия|Ход переходит другому игроку|
#

|**Действие**|**Поставить в клетке на поле соперника крестик, над полем написать "Ранил!"**|
| :-: | :- |
|Ссылки|Прецедент: Сделать ход|
|Предусловия|<p>В клетке, куда пришелся выстрел, находится многопалубный корабль</p><p></p>|
|Постусловия|<p>Варианты:</p><p>- Игрок ходит еще один раз</p><p>- Ход переходит другому игроку</p>|
#

|**Действие**|**Закрасить клетку/клетки пораженного корабля, над полем написать "Убил!"**|
| :-: | :- |
|Ссылки|Прецедент: Сделать ход|
|Предусловия|Выстрел пришелся в клетку с однотрубным кораблем или в последнюю непоражённую клетку многопалубного корабля |
|Постусловия|<p>Варианты:</p><p>- Игрок ходит еще один раз</p><p>- Ход переходит другому игроку</p>|
#

|**Действие**|**Предоставить еще один ход**|
| :-: | :- |
|Ссылки|Прецедент: Сделать ход|
|Предусловия|<p>1. Текущий ход не повторный </p><p>2. Варианты:</p><p>- В клетке, куда пришелся выстрел, находится многопалубный корабль</p><p>- Выстрел пришелся в клетку с однотрубным кораблем или в последнюю непоражённую клетку многопалубного корабля</p>|
|Постусловия|Игрок получает возможность сделать еще один ход|
#

|**Действие**|**Отобразить кнопку «Передать ход»**|
| :-: | :- |
|Ссылки|Прецедент: Сделать ход|
|Предусловия|<p>1. Игрок сделал ход</p><p>2. Повторный ход игроку не предоставляется</p><p>3. У обоих игроков есть не потопленные корабли</p>|
|Постусловия|Игроку предоставлен интерфейс для передачи хода другому игроку|
#

|**Действие**|**Нажать кнопку «Передать ход»**|
| :-: | :- |
|Ссылки|Прецедент: Сделать ход|
|Предусловия|<p>1. Игрок сделал ход</p><p>2. Повторный ход игроку не предоставляется</p>|
|Постусловия|Игрок передал ход другому игроку|
#

|**Действие**|**Вывести на экран надпись о переходе хода и кнопку «Далее»**|
| :-: | :- |
|Ссылки|Прецедент: Сделать ход|
|Предусловия|1. Предыдущий игрок сделал ход и нажал кнопку «Передать ход»|
|Постусловия|Игроку предоставлен интерфейс для начала хода|
#

|**Действие**|**Завершить игру, вывести имя победителя и поля обоих игроков**|
| :-: | :- |
|Ссылки|Прецедент: Сделать ход|
|Предусловия|У одного из игроков потоплены все 10 кораблей|
|Постусловия|<p>1. Победитель игры определен</p><p>2. Игра завершена</p>|

