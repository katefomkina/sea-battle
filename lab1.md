# Описание прецедентов

Рисунок 1 - Диаграмма прецедентов

![Рисунок 1 - Диаграмма прецедентов](/images/lab1_precedents.png)

## Прецедент "Войти в игру"

Таблица 1 - Описание прецедента "Войти в игру"

||**Войти в игру**|
| :-: | :- |
|Описание|Игрок вводит свое имя в систему, чтобы начать игру|
|Основной исполнитель|Игрок|
|Предусловия|Система запущена, игра не начата|
|Постусловия|Имя игрока записано в системе|

Таблица 2 - Основной сценарий прецедента "Войти в игру"

|**Действие игрока**|**Реакция системы**|
| :- | :- |
||1\. Запрашивает имя второго игрока, выводит текстовое поле и неактивную кнопку «Сохранить»|
|2\. Вводит свое имя||
||3\. Проверяет, есть ли текст в поле. В случае успешной проверки делает кнопку «Сохранить» активной.|
|4\. Нажимает кнопку «Сохранить»||
||5\. Сохраняет введенные данные|
||6\. Запрашивает имя второго игрока, выводит текстовое поле и неактивную кнопку «Сохранить»|
||*Повторение пунктов 2-5 для второго игрока*|
||7\. Завершает процесс ввода имен игроков|

## Прецедент "Расставить корабли"

Таблица 3 - Описание прецедента "Расставить корабли"

||**Расставить корабли**|
| :-: | :- |
|Описание|Игрок расставляет свой набор кораблей на игровом поле, не показывая игроку-сопернику|
|Основной исполнитель|Игрок|
|Предусловия|<p>1. Оба игрока вошли в игру</p><p>2. Игра не начата</p>|
|Постусловия|Корабли расставлены, игровые поля сформированы|

Таблица 4 - Основной сценарий прецедента "Расставить корабли"

|**Действие игрока**|**Реакция системы**|
| :- | :- |
||1\. Отображает для первого игрока его поле, набор из 10 кораблей и неактивную кнопку «Сохранить».|
|2\. Расставляет корабли по полю||
||3\. Проверяет, все ли 10 кораблей расставлены. В случае успешной проверки делает кнопку «Сохранить» активной.|
|4\. Подтверждает расположение кораблей||
||5\. Сохраняет расположение кораблей первого игрока.|
||6\. Отображает для второго игрока его поле и набор кораблей.|
|*Повторение пунктов 2-5 для второго игрока*||
||6\. Завершает процесс расстановки кораблей|

## Прецедент "Выбрать первого игрока"

Таблица 5 - Описание прецедента "Выбрать первого игрока "

||**Выбрать первого игрока**|
| :-: | :- |
|Описание|Игроки выбирают кто из двух игроков будет ходить первым|
|Основной исполнитель|Игрок|
|Предусловия|<p>1. Оба игрока вошли в игру</p><p>2. Игра не начата</p><p>3. Оба игрока сформировали свои игровые поля, расставив корабли</p>|
|Постусловия|<p>1. Определен игрок, который будет ходить первым</p><p>2. Игра начата</p>|

Таблица 6 - Основной сценарий прецедента "Расставить корабли"

|**Действие игрока**|**Реакция системы**|
| :- | :- |
||1\. Выводит на экран имена обоих игроков по отдельности|
|2\. Нажимает на имя игрока, который будет ходить первым||
||3\. Сохраняет выбор игрока|

## Прецедент "Сделать ход"

Таблица 7 - Описание прецедента "Сделать ход"

||**Сделать ход**|
| :-: | :- |
|Описание|Игрок делает ход («стреляет»), нажимая на клетку на поле соперника|
|Основной исполнитель|Игрок|
|Предусловия|<p>1. Оба игрока вошли в игру</p><p>2. Оба игрока сформировали свои игровые поля, расставив корабли</p><p>3. Выбран игрок, который будет ходить первым</p><p>4. Игра начата</p>|
|Постусловия|Игра завершена|

Таблица 8 - Основной сценарий прецедента "Сделать ход"

|**Действие игрока**|**Реакция системы**|
| :- | :- |
|1\. *Только если данный ход не первый в игре и не повторный: Н*ажимает кнопку «Далее». ||
||<p>2\. Предоставляет право хода игроку, отобразив на экране его поле и поле его соперника.</p><p>*Только если данный ход не первый в игре и не повторный:* В поле текущего игрока отображаются все метки, появившиеся в результате хода предыдущего игрока либо предыдущего хода текущего игрока.</p>|
|3\. Нажимает на клетку на поле соперника.||
||4\. Проверяет наличие кораблей в выбранной клетке.|
||<p>*(Клетка, куда пришелся выстрел, не занята ни одним кораблем)*</p><p>5\. Ставит в этой клетке на поле соперника точку, над игровым полем соперника добавляет надпись «Мимо!». </p>|
||6\. Проверяет, есть ли не потопленные корабли у обоих игроков. Если есть, добавляет кнопку «Передать ход».|
|7\. Нажимает кнопку «Передать ход».||
||8\. Выводит на экран надпись «Переход хода игроку <имя второго игрока>» и кнопку «Далее».|
||*Повторение пунктов 1-7 для другого игрока. Переход ходов идет до окончания игры.*|
||9\. Завершает игру. Выводит на экран имя победителя и игровые поля обоих игроков.|

**Альтернативные сценарии:**

**5а.** В клетке, куда пришелся выстрел, находится многопалубный корабль.

1. Ставит в этой клетке на поле соперника крестик, над игровым полем соперника добавляет надпись «Ранил!». Если ход не повторный, предоставляет еще один ход текущему игроку (аналогично п. 3-8 основного сценария).

**5b.** Выстрел пришелся в клетку, где находится однотрубный корабль, или в последнюю непоражённую клетку многопалубного корабля.

1. Закрашивает клетки (клетку) потопленного корабля, над игровым полем соперника добавляет надпись «Убил!». Если ход не повторный, предоставляет еще один ход текущему игроку (аналогично п. 3-8 основного сценария).

**6a.** У одного из игроков потоплены все 10 кораблей. 

1. Завершает игру. Выводит на экран имя победителя и игровые поля обоих игроков.
